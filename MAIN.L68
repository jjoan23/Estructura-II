000019EA Starting Address
Assembler used: EASy68K Editor/Assembler v5.16.01
Created On: 29/12/2024 19:29:55

00000000                             1  *-----------------------------------------------------------------------------
00000000                             2  * Title      : MAIN
00000000                             3  * Written by :
00000000                             4  * Date       :
00000000                             5  * Description:
00000000                             6  *-----------------------------------------------------------------------------
00000000                             7  
00001000                             8              ORG    $1000
00001000                             9              
00001000                            10              INCLUDE 'CONST.X68'
00001000                            11  ; ----------------------------------------------------------------------------
00001000                            12  ; CONSTANTES DEL JUEGO
00001000                            13  ; ----------------------------------------------------------------------------
00001000                            14     
00001000                            15  ; --- CONSTANTES DE LA MANZANA -----------------------------------------------
00001000                            16  
00001000  =00000014                 17  MNZWIDTH    EQU     20                      ; ANCHURA DE LA MANZANA (a determinar)
00001000  =00000014                 18  MNZHEIGH    EQU     20                      ; ALTURA DE LA MANZANA (a determinar)
00001000  =0000AAFF                 19  MNZPCOL     EQU     $0000AAFF               ; COLOR CONTORNO MANZANA (a determinar)
00001000  =000000FF                 20  MNZFCOL     EQU     $000000FF               ; COLOR RELLENO MANZANA (a determinar)
00001000                            21  
00001000                            22  ; --- CONSTANTES DE LA SERPIENTE ---------------------------------------------
00001000                            23  
00001000  =00000001                 24  MAXSGM      EQU     1                       ; TAMAÑO MÁXIMO DE SEGMENTOS (a determinar)
00001000  =00000001                 25  LNGINI      EQU     1                       ; LONGITUD INICIAL SERPIENTE (a determinar)
00001000  =00000014                 26  CBZVEL      EQU     20                      ; VELOCIDAD DE LA CABEZA (a determinar)
00001000  =00000014                 27  SGMWIDTH    EQU     20                      ; ANCHURA DE UN SEGMENTO (PROVISIONAL)
00001000  =00000014                 28  SGMHEIGH    EQU     20                      ; ALTURA DE UN SEGMENTO (PROVISIONAL)
00001000  =0000FF00                 29  SGMPCOL     EQU     $0000FF00               ; COLOR CONTORNO SEGMENTO (PROVISIONAL)
00001000  =0000AA00                 30  SGMFCOL     EQU     $0000AA00               ; COLOR RELLENO SEGMENTO (PROVISIONAL)
00001000  =0000000A                 31  COLWIDTH    EQU     10                      ; ANCHURA DE LA COLA (PROVISIONAL)
00001000  =0000000A                 32  COLHEIGH    EQU     10                      ; ALTURA DE LA COLA (PROVISIONAL)
00001000  =0000FF00                 33  COLPCOL     EQU     $0000FF00               ; COLOR CONTORNO COLA (PROVISIONAL)
00001000  =0000AA00                 34  COLFCOL     EQU     $0000AA00               ; COLOR RELLENO COLA (PROVISIONAL)
00001000  =00000014                 35  CBZWIDTH    EQU     20                      ; ANCHURA DE LA CABEZA (PROVISIONAL)
00001000  =00000014                 36  CBZHEIGH    EQU     20                      ; ALTURA DE LA CABEZA (PROVISIONAL)
00001000  =0000FF00                 37  CBZPCOL     EQU     $0000FF00               ; COLOR CONTORNO CABEZA (PROVISIONAL)
00001000  =0000AA00                 38  CBZFCOL     EQU     $0000AA00               ; COLOR RELLENO CABEZA (PROVISIONAL)
00001000  =0000000A                 39  OJOWIDTH    EQU     10                      ; ANCHURA DE OJO DE SERPIENTE
00001000  =0000000A                 40  OJOHEIGH    EQU     10                      ; ALTURA DE OJO DE SERPIENTE
00001000  =00000000                 41  OJOPCOL     EQU     $00000000               ; COLOR CONTORNO OJO
00001000  =00FFFFFF                 42  OJOFCOL     EQU     $00FFFFFF               ; COLOR RELLENO OJO            
00001000                            43  
00001000                            44  ; --- CONSTANTES MARCADOR ----------------------------------------------------
00001000                            45  
00001000  =00000000                 46  PNTSFCOL    EQU     $00000000               ; COLOR FONDO MARCADOR (a determinar)
00001000  =00000065                 47  PNTSTEXT    EQU     0101                    ; COORDENADAS DEL MARCADOR (a determinar)
00001000                            48  
00001000                            49  
00001000                            50  
00001000                            51  
00001000                            52  
00001000                            53  
00001000                            54  
00001000                            55  
00001000                            56  
00001000                            57  
00001000                            58  
00001000                            59  
00001000                            60  
00001000                            61  
00001000                            62  
00001000                            63  -------------------- end include --------------------
00001000                            64              INCLUDE 'SYSCONST.X68'
00001000                            65  ; ----------------------------------------------------------------------------
00001000                            66  ; CONSTANTES DEL SISTEMA
00001000                            67  ; ----------------------------------------------------------------------------
00001000                            68  
00001000                            69  ; ---CONSTANTES DE LA PANTALLA------------------------------------------------
00001000                            70  
00001000  =00000280                 71  PANWIDTH    EQU     640                     ; ANCHO DE LA PANTALLA
00001000  =000001E0                 72  PANHEIGH    EQU     480                     ; ALTURA DE LA PANTALLA
00001000  =0090EE90                 73  COLFND      EQU     $90EE90                 ; COLOR DEL FONDO DE LA PANTALLA
00001000  =00000032                 74  SCRFPS      EQU     50
00001000                            75  
00001000                            76  ; ---CONSTANTES DE LA MATRIZ--------------------------------------------------
00001000                            77  
00001000  =00000014                 78  SIZECLDA    EQU     20                      ; TAMAÑO DE CADA CELDA EN PIXELES
00001000  =00000020                 79  NUMCLMNS    EQU     32                      ; COLUMNAS DE CELDAS (640/10)
00001000  =00000018                 80  NUMFILAS    EQU     24                      ; FILAS DE CELDAS (480/10)
00001000  =00000300                 81  TCELDAS     EQU     768                     ; TOTAL DE CELDAS (64 * 48)
00001000                            82  
00001000                            83  ; ---CÓDIGOS DE TECLADO-------------------------------------------------------
00001000                            84  
00001000  =00000025                 85  KBDLEFT     EQU     $25
00001000  =00000026                 86  KBDUP       EQU     $26
00001000  =00000027                 87  KBDRIGHT    EQU     $27
00001000  =00000028                 88  KBDDOWN     EQU     $28
00001000                            89  
00001000                            90  ; --- IDENTIFICADORES DE SONIDO ----------------------------------------------
00001000                            91  
00001000  =00000000                 92  SNDEAT      EQU     0
00001000  =00000001                 93  SNDGMOV     EQU     1
00001000                            94  
00001000                            95  ; --- NÚMEROS DE TRAP --------------------------------------------------------
00001000                            96  
00001000  =00000000                 97  SCRUPTN     EQU     0                       ; SCREEN UPDATE TRAP NUMBER
00001000  =00000001                 98  KBDUPTN     EQU     1                       ; KEYBOARD TRAP NUMBER
00001000  =00000002                 99  SNDPLTN     EQU     2                       ; SOUND TRAP NUMBER
00001000                           100  
00001000                           101  ; --- NÚMEROS DE INTERRUPCIÓN ------------------------------------------------
00001000                           102  
00001000  =00000001                103  SCRINTN     EQU     1     
00001000                           104  
00001000                           105  
00001000                           106  
00001000                           107  
00001000                           108  
00001000                           109  -------------------- end include --------------------
00001000                           110              INCLUDE 'SYSTEM.X68'
00001000                           111   
00001000                           112   
00001000                           113  SYSINIT
00001000                           114  ; INICIA EL  SISTEMA
00001000                           115  ; INPUT    : NONE
00001000                           116  ; OUTPUT   : NONE
00001000                           117  ; MODIFIES : NONE
00001000                           118  ; ----------------------------------------------------------------------------
00001000                           119              
00001000  21FC 000010E6 0080       120              MOVE.L  #SCRPLOT,($80+SCRUPTN*4)
00001008  21FC 0000110E 0084       121              MOVE.L  #KBDUPD,($80+KBDUPTN*4)
00001010  21FC 00001088 0088       122              MOVE.L  #SNDPLAY,($80+SNDPLTN*4)
00001018  21FC 000010DE 0064       123              MOVE.L  #SCRTIM,($60+SCRINTN*4)
00001020                           124              
00001020  4EB9 0000109A            125              JSR     SCRINIT
00001026  4EB9 00001100            126              JSR     KBDINIT
0000102C  4EB9 0000103A            127              JSR     SNDINIT
00001032                           128              
00001032  40E7                     129              MOVE.W  SR,-(A7)
00001034  0257 D8FF                130              ANDI.W  #$D8FF,(A7)
00001038                           131              
00001038  4E73                     132              RTE
0000103A                           133              
0000103A                           134  ; ----------------------------------------------------------------------------
0000103A                           135  SNDINIT
0000103A                           136  ; SOUND SYSTEM INIT
0000103A                           137  ; INPUT    : NONE
0000103A                           138  ; OUTPUT   : NONE
0000103A                           139  ; MODIFIES : NONE
0000103A                           140  ; ----------------------------------------------------------------------------
0000103A                           141  
0000103A  48E7 C0C0                142              MOVEM.L D0-D1/A0-A1,-(A7)
0000103E                           143  
0000103E  4201                     144              CLR.B   D1
00001040  41F9 0000107C            145              LEA     .SNDLIST,A0
00001046  2018                     146  .LOOP       MOVE.L  (A0)+,D0
00001048  6700 000E                147              BEQ     .DONE
0000104C  2240                     148              MOVE.L  D0,A1
0000104E  103C 0047                149              MOVE.B  #71,D0
00001052  4E4F                     150              TRAP    #15
00001054  5201                     151              ADDQ.B  #1,D1
00001056  60EE                     152              BRA     .LOOP
00001058                           153              
00001058  4CDF 0303                154  .DONE       MOVEM.L (A7)+,D0-D1/A0-A1
0000105C  4E75                     155              RTS
0000105E                           156              
0000105E= 53 4E 44 2F 45 41 ...    157  .SNDEAT     DC.B    'SND/EAT.wav',0
0000106A= 53 4E 44 2F 47 41 ...    158  .SNDGMOV    DC.B    'SND/GAMEOVER.wav',0
0000107C= 0000105E 0000106A ...    159  .SNDLIST    DC.L    .SNDEAT,.SNDGMOV,0
00001088                           160              
00001088                           161  ; ----------------------------------------------------------------------------
00001088                           162  SNDPLAY
00001088                           163  ; PLAY SOUND
00001088                           164  ; INPUT    : D7 SOUND ID
00001088                           165  ; OUTPUT   : NONE
00001088                           166  ; MODIFIES : NONE
00001088                           167  ; ----------------------------------------------------------------------------            
00001088                           168              
00001088  48A7 C000                169              MOVEM.W D0-D1,-(A7)
0000108C                           170              
0000108C  103C 0048                171              MOVE.B  #72,D0
00001090  1207                     172              MOVE.B  D7,D1
00001092  4E4F                     173              TRAP    #15
00001094                           174              
00001094  4C9F 0003                175              MOVEM.W (A7)+,D0-D1
00001098  4E73                     176              RTE
0000109A                           177               
0000109A                           178              
0000109A                           179  ; ----------------------------------------------------------------------------
0000109A                           180  SCRINIT
0000109A                           181  ; INIT SCREEN. SET SCREEN RESOLUTION, SET WINDOWED MODE, CLEAR SCREEN,
0000109A                           182  ; ENABLE DOUBLE BUFFER, ENABLED TIMED INTERRUPT.
0000109A                           183  ; INPUT    : NONE
0000109A                           184  ; OUTPUT   : NONE
0000109A                           185  ; MODIFIES : NONE
0000109A                           186  ; ----------------------------------------------------------------------------
0000109A                           187  
0000109A  48E7 C000                188              MOVEM.L D0-D1,-(A7)
0000109E                           189  
0000109E                           190              ; SET SCREEN RESOLUTION
0000109E  103C 0021                191              MOVE.B  #33,D0
000010A2  223C 028001E0            192              MOVE.L  #PANWIDTH<<16|PANHEIGH,D1
000010A8  4E4F                     193              TRAP    #15
000010AA                           194              
000010AA                           195              ; SET WINDOWED MODE
000010AA  7201                     196              MOVE.L  #1,D1
000010AC  4E4F                     197              TRAP    #15
000010AE                           198              
000010AE                           199              ; CLEAR SCREEN
000010AE  103C 000B                200              MOVE.B  #11,D0
000010B2  323C FF00                201              MOVE.W  #$FF00,D1
000010B6  4E4F                     202              TRAP    #15
000010B8                           203              
000010B8                           204              ; ENABLE DOUBLE BUFFER
000010B8  103C 005C                205              MOVE.B  #92,D0
000010BC  123C 0011                206              MOVE.B  #17,D1
000010C0  4E4F                     207              TRAP    #15
000010C2                           208              
000010C2                           209              ; ENABLE TIMED INTERRUPT
000010C2  103C 0020                210              MOVE.B  #32,D0
000010C6  123C 0006                211              MOVE.B  #6,D1
000010CA  143C 0081                212              MOVE.B  #$80|SCRINTN,D2
000010CE  7614                     213              MOVE.L  #1000/SCRFPS,D3                  ; CON 20 SE CONSIUGUEN 50 FPS
000010D0  4E4F                     214              TRAP    #15
000010D2                           215              
000010D2                           216              ; CLEAR INTERRUPT COUNTER
000010D2  4239 00001D72            217              CLR.B   (SCRINTCT)
000010D8                           218              
000010D8  4CDF 0003                219              MOVEM.L (A7)+,D0-D1
000010DC                           220              
000010DC  4E75                     221              RTS    
000010DE                           222              
000010DE                           223  ; ------------------------------------------------------------------------------
000010DE                           224  SCRTIM
000010DE                           225  ; TIMED INTERRUPT SERVICE ROUTINE
000010DE                           226  ; INPUT    : NONE
000010DE                           227  ; OUTPUT   : NONE
000010DE                           228  ; MODIFIES : NONE
000010DE                           229  ; ------------------------------------------------------------------------------
000010DE  5239 00001D72            230              ADDQ.B  #1,(SCRINTCT)
000010E4  4E73                     231              RTE
000010E6                           232              
000010E6                           233  
000010E6                           234  ; ------------------------------------------------------------------------------
000010E6                           235  SCRPLOT
000010E6                           236  ; UPDATES DOUBLE BUFFER
000010E6                           237  ; INPUT    : NONE
000010E6                           238  ; OUTPUT   : NONE
000010E6                           239  ; MODIFIES : NONE
000010E6                           240  ; ------------------------------------------------------------------------------
000010E6                           241  
000010E6  48A7 C000                242              MOVEM.W D0-D1,-(A7)
000010EA                           243              
000010EA                           244              ; SWITCH BUFFERS
000010EA  103C 005E                245              MOVE.B  #94,D0
000010EE  4E4F                     246              TRAP    #15
000010F0                           247              
000010F0                           248              ; CLEAR HIDDEN BUFFER
000010F0  103C 000B                249              MOVE.B  #11,D0
000010F4  323C FF00                250              MOVE.W  #$FF00,D1
000010F8  4E4F                     251              TRAP    #15
000010FA                           252              
000010FA  4C9F 0003                253              MOVEM.W (A7)+,D0-D1
000010FE                           254              
000010FE  4E73                     255              RTE
00001100                           256          
00001100                           257  ; ------------------------------------------------------------------------------
00001100                           258  KBDINIT
00001100                           259  ; INIT KEYBOARD
00001100                           260  ; INPUT    : NONE
00001100                           261  ; OUTPUT   : NONE
00001100                           262  ; MODIFIES : NONE
00001100                           263  ; ------------------------------------------------------------------------------
00001100                           264  
00001100  4239 00001D6B            265              CLR.B   (KBDVAL)
00001106  4239 00001D6C            266              CLR.B   (KBDEDGE)
0000110C  4E75                     267              RTS
0000110E                           268  
0000110E                           269  ; ------------------------------------------------------------------------------
0000110E                           270  KBDUPD
0000110E                           271  ; UPDATE KEYBOARD INFO.  
0000110E                           272  ; 7 -> PAUSE
0000110E                           273  ; 6 -> FIRE 3
0000110E                           274  ; 5 -> FIRE 2
0000110E                           275  ; 4 -> FIRE 1
0000110E                           276  ; 3 -> DOWN
0000110E                           277  ; 2 -> RIGHT
0000110E                           278  ; 1 -> UP
0000110E                           279  ; 0 -> LEFT
0000110E                           280  ; INPUT    : NONE
0000110E                           281  ; OUTPUT   : NONE
0000110E                           282  ; MODIFIES : NONE
0000110E                           283  ; ------------------------------------------------------------------------------
0000110E                           284  
0000110E  48E7 C000                285              MOVEM.L D0-D1,-(A7)
00001112                           286  
00001112                           287              ; LEE ESTADO DEL TECLADO
00001112  103C 0013                288              MOVE.B  #19,D0
00001116  223C 25262728            289              MOVE.L  #KBDLEFT<<24|KBDUP<<16|KBDRIGHT<<8|KBDDOWN,D1
0000111C  4E4F                     290              TRAP    #15                  ; Lee las teclas y guarda en D1
0000111E                           291  
0000111E  B2BC 000000FF            292              CMP.L   #$000000FF,D1
00001124  6700 0048                293              BEQ     DWN
00001128  B2BC 0000FF00            294              CMP.L   #$0000FF00,D1
0000112E  6700 001A                295              BEQ     DER
00001132  B2BC 00FF0000            296              CMP.L   #$00FF0000,D1
00001138  6700 001C                297              BEQ     ARR
0000113C  B2BC FF000000            298              CMP.L   #$FF000000,D1
00001142  6700 001E                299              BEQ     IZQ
00001146                           300  
00001146                           301              ; Si no hay pulsaciones, mantener estado
00001146  6000 002E                302              BRA     CONTINU
0000114A                           303  
0000114A  33FC 0000 00001D6A       304  DER:        MOVE.W  #0,(ESTDCBZ)           ; Actualiza estado a DERECHA
00001152  6000 0022                305              BRA     CONTINU
00001156                           306              
00001156  33FC 0001 00001D6A       307  ARR:        MOVE.W  #1,(ESTDCBZ)           ; Actualiza estado a ARRIBA
0000115E  6000 0016                308              BRA     CONTINU
00001162                           309  
00001162  33FC 0002 00001D6A       310  IZQ:        MOVE.W  #2,(ESTDCBZ)           ; Actualiza estado a IZQUIERDA
0000116A  6000 000A                311              BRA     CONTINU                    
0000116E                           312  
0000116E  33FC 0003 00001D6A       313  DWN:        MOVE.W  #3,(ESTDCBZ)           ; Actualiza estado a ABAJO
00001176                           314  
00001176                           315  CONTINU:
00001176  4CDF 0003                316              MOVEM.L (A7)+,D0-D1
0000117A  4E73                     317              RTE
0000117C                           318              
0000117C                           319  ; RESIDUOS CODIGO ANTERIOR 
0000117C                           320  
0000117C                           321              ;MOVE.B  D2,(KBDVAL)
0000117C                           322              
0000117C                           323  
0000117C                           324  
0000117C                           325  
0000117C                           326  
0000117C                           327  ; CODIGO ANTERIOR ANTERIOR
0000117C                           328  
0000117C                           329  
0000117C                           330  
0000117C                           331  
0000117C                           332  
0000117C                           333  
0000117C                           334  
0000117C                           335  
0000117C                           336  
0000117C                           337  
0000117C                           338  
0000117C                           339  
0000117C                           340  
0000117C                           341  
0000117C                           342  
0000117C                           343  
0000117C                           344  
0000117C                           345  
0000117C                           346  
0000117C                           347  
0000117C                           348  
0000117C                           349  
0000117C                           350  
0000117C                           351  
0000117C                           352  
0000117C                           353  
0000117C                           354  
0000117C                           355  
0000117C                           356  
0000117C                           357  
0000117C                           358  
0000117C                           359  
0000117C                           360  
0000117C                           361  
0000117C                           362  
0000117C                           363  
0000117C                           364  
0000117C                           365  
0000117C                           366  
0000117C                           367  
0000117C                           368  
0000117C                           369  
0000117C                           370  
0000117C                           371  
0000117C                           372  
0000117C                           373  
0000117C                           374  
0000117C                           375  -------------------- end include --------------------
0000117C                           376              INCLUDE 'LIB/UTLCODE.X68'
0000117C                           377  ; =============================================================================
0000117C                           378  ; UTILITY CODE
0000117C                           379  ; =============================================================================
0000117C                           380  
0000117C                           381  ; -----------------------------------------------------------------------------
0000117C                           382  UTLINIT
0000117C                           383  ; INITIALIZES UTILITY CODE
0000117C                           384  ; INPUT    - NONE
0000117C                           385  ; OUTPUT   - NONE
0000117C                           386  ; MODIFIES - NONE
0000117C                           387  ; -----------------------------------------------------------------------------
0000117C  48E7 C000                388              MOVEM.L D0-D1,-(A7)
00001180  103C 0008                389              MOVE.B  #8,D0
00001184  4E4F                     390              TRAP    #15
00001186  13C1 00001A68            391              MOVE.B  D1,(UTLRNDIX)
0000118C  4CDF 0003                392              MOVEM.L (A7)+,D0-D1
00001190  4E75                     393              RTS
00001192                           394  
00001192                           395  ; -----------------------------------------------------------------------------
00001192                           396  UTLRAND
00001192                           397  ; PROVIDES A PSEUDO-RANDOM BYTE
00001192                           398  ; INPUT    - NONE
00001192                           399  ; OUTPUT   - D0.L RANDOM VALUE (ONLY BYTE)
00001192                           400  ; MODIFIES - NONE (ASIDE OF OUTPUT)
00001192                           401  ; -----------------------------------------------------------------------------
00001192  2F08                     402              MOVE.L  A0,-(A7)
00001194  41F9 000011B0            403              LEA     .RANDVEC,A0
0000119A  4280                     404              CLR.L   D0
0000119C  1039 00001A68            405              MOVE.B  (UTLRNDIX),D0
000011A2  1030 0800                406              MOVE.B  (A0,D0.L),D0
000011A6  5239 00001A68            407              ADDQ.B  #1,(UTLRNDIX)
000011AC  205F                     408              MOVE.L  (A7)+,A0
000011AE  4E75                     409              RTS
000011B0                           410  
000011B0                           411  
000011B0= A2 EE 9A 0C F5 24 ...    412  .RANDVEC    DC.B    162, 238, 154, 12 , 245, 36 , 32 , 103
000011B8= 2A A3 51 26 E0 AC ...    413              DC.B    42 , 163, 81 , 38 , 224, 172, 19 , 69
000011C0= 75 51 CA FD 33 EB ...    414              DC.B    117, 81 , 202, 253, 51 , 235, 108, 154
000011C8= 60 CC E7 B8 9A EB ...    415              DC.B    96 , 204, 231, 184, 154, 235, 34 , 203
000011D0= 1D 76 B5 95 B0 89 ...    416              DC.B    29 , 118, 181, 149, 176, 137, 62 , 108
000011D8= 39 15 48 C9 6E CA ...    417              DC.B    57 , 21 , 72 , 201, 110, 202, 159, 41
000011E0= 43 E7 E2 7C 37 25 ...    418              DC.B    67 , 231, 226, 124, 55 , 37 , 84 , 62
000011E8= E9 94 CE E9 E4 52 ...    419              DC.B    233, 148, 206, 233, 228, 82 , 243, 78
000011F0= 37 6D 9A 84 A2 28 ...    420              DC.B    55 , 109, 154, 132, 162, 40 , 30 , 39
000011F8= 19 E2 C6 77 80 D4 ...    421              DC.B    25 , 226, 198, 119, 128, 212, 232, 225
00001200= 0A 5A 32 67 33 C2 ...    422              DC.B    10 , 90 , 50 , 103, 51 , 194, 222, 40
00001208= 59 80 DC 0E 57 FC ...    423              DC.B    89 , 128, 220, 14 , 87 , 252, 243, 252
00001210= 8A AB BC F7 07 4D ...    424              DC.B    138, 171, 188, 247, 7  , 77 , 29 , 234
00001218= EF D5 77 6E 1E BB ...    425              DC.B    239, 213, 119, 110, 30 , 187, 131, 23
00001220= D6 E0 2A 8F BD 28 ...    426              DC.B    214, 224, 42 , 143, 189, 40 , 212, 130
00001228= 13 4F 66 EC 0A 64 ...    427              DC.B    19 , 79 , 102, 236, 10 , 100, 122, 188
00001230= 56 52 9A 16 9B 90 ...    428              DC.B    86 , 82 , 154, 22 , 155, 144, 7  , 199
00001238= 06 8A A4 F7 01 DA ...    429              DC.B    6  , 138, 164, 247, 1  , 218, 166, 82
00001240= F2 E7 77 28 B1 76 ...    430              DC.B    242, 231, 119, 40 , 177, 118, 220, 102
00001248= A4 42 E3 81 B1 67 ...    431              DC.B    164, 66 , 227, 129, 177, 103, 165, 108
00001250= BF CE FA 16 BF 38 ...    432              DC.B    191, 206, 250, 22 , 191, 56 , 30 , 161
00001258= D1 8B 50 0C 5F 49 ...    433              DC.B    209, 139, 80 , 12 , 95 , 73 , 168, 56
00001260= DE 4C 14 A2 40 DC ...    434              DC.B    222, 76 , 20 , 162, 64 , 220, 93 , 12
00001268= B6 9B 0A 38 5D AB ...    435              DC.B    182, 155, 10 , 56 , 93 , 171, 89 , 6
00001270= E2 1B DD 75 15 82 ...    436              DC.B    226, 27 , 221, 117, 21 , 130, 101, 18
00001278= 8A 26 51 30 9F 47 ...    437              DC.B    138, 38 , 81 , 48 , 159, 71 , 57 , 21
00001280= 1E 8A BB 71 C6 6E ...    438              DC.B    30 , 138, 187, 113, 198, 110, 185, 152
00001288= 9F 47 E5 34 94 27 ...    439              DC.B    159, 71 , 229, 52 , 148, 39 , 77 , 6
00001290= 7D 06 D6 BA 30 0F ...    440              DC.B    125, 6  , 214, 186, 48 , 15 , 212, 22
00001298= EC 7F 7E 03 CF 2D ...    441              DC.B    236, 127, 126, 3  , 207, 45 , 193, 2
000012A0= 94 5B 23 F2 8B CD ...    442              DC.B    148, 91 , 35 , 242, 139, 205, 248, 237
000012A8= 74 33 EC B9 0F D5 ...    443              DC.B    116, 51 , 236, 185, 15 , 213, 221, 6
000012A8= 74 33 EC B9 0F D5 ...    444  -------------------- end include --------------------
000012B0                           445              INCLUDE 'HEADSRP.X68'
000012B0                           446  
000012B0                           447  ; ------------------------------------------------------------------------------
000012B0                           448  HEADINIT
000012B0                           449  ; INICIALIZAR CABEZA.
000012B0                           450  ; INPUT    : NONE 
000012B0                           451  ; OUTPUT   : NONE
000012B0                           452  ; MODIFIES : NONE
000012B0                           453  ; ------------------------------------------------------------------------------
000012B0  33FC 0140 00001A52       454              MOVE.W  #PANWIDTH/2,(CBZPOSX)
000012B8  33FC 00F0 00001A54       455              MOVE.W  #PANHEIGH/2,(CBZPOSY)
000012C0                           456              ;ADD.W   #20,(CBZVEL)
000012C0  4279 00001D6A            457              CLR.W   (ESTDCBZ)
000012C6  33FC 0000 00001D6A       458              MOVE.W  #0,(ESTDCBZ)
000012CE  4E75                     459              RTS
000012D0                           460              
000012D0                           461  ; ------------------------------------------------------------------------------
000012D0                           462  HEADUPD
000012D0                           463  ; ACTUALIZAR CABEZA.
000012D0                           464  ; INPUT    : NONE 
000012D0                           465  ; OUTPUT   : NONE
000012D0                           466  ; MODIFIES : NONE
000012D0                           467  ; ------------------------------------------------------------------------------
000012D0                           468  
000012D0  48A7 E000                469              MOVEM.W D0-D2,-(A7)
000012D4                           470  
000012D4                           471              ; Marcar celda actual como vacía
000012D4  3239 00001A52            472              MOVE.W  (CBZPOSX),D1
000012DA  3439 00001A54            473              MOVE.W  (CBZPOSY),D2
000012E0  4EB9 000017BE            474              JSR     CINDMTRZ
000012E6  4EB9 0000180E            475              JSR     MCLDVCIA
000012EC                           476              
000012EC                           477              
000012EC                           478              ; Actualiza la posición de la cabeza según ESTDCBZ
000012EC  3039 00001D6A            479              MOVE.W  (ESTDCBZ),D0
000012F2  B07C 0000                480              CMP.W   #0,D0
000012F6  6700 001E                481              BEQ     SIGDER
000012FA  B07C 0001                482              CMP.W   #1,D0
000012FE  6700 0022                483              BEQ     SIGARR
00001302  B07C 0002                484              CMP.W   #2,D0
00001306  6700 0026                485              BEQ     SIGIZQ
0000130A  B07C 0003                486              CMP.W   #3,D0
0000130E  6700 002A                487              BEQ     SIGABA
00001312                           488  
00001312                           489              ; Si no hay dirección válida, sale
00001312  6000 0078                490              BRA     FIN
00001316                           491  
00001316                           492  SIGDER:
00001316  0679 0014 00001A52       493              ADD.W   #CBZVEL,(CBZPOSX)
0000131E  6000 0022                494              BRA     CHKCOL
00001322                           495  
00001322                           496  SIGARR:
00001322  0479 0014 00001A54       497              SUB.W   #CBZVEL,(CBZPOSY)
0000132A  6000 0016                498              BRA     CHKCOL
0000132E                           499  
0000132E                           500  SIGIZQ:
0000132E  0479 0014 00001A52       501              SUB.W   #CBZVEL,(CBZPOSX)
00001336  6000 000A                502              BRA     CHKCOL
0000133A                           503  
0000133A                           504  SIGABA:
0000133A  0679 0014 00001A54       505              ADD.W   #CBZVEL,(CBZPOSY)
00001342                           506              
00001342                           507  CHKCOL:
00001342                           508              ; Verifica la colisión con la manzana
00001342  3239 00001A52            509              MOVE.W  (CBZPOSX),D1
00001348  3439 00001A54            510              MOVE.W  (CBZPOSY),D2
0000134E  B279 00001A4E            511              CMP.W   (MNZPOSX),D1
00001354  6600 001E                512              BNE     NOCOL
00001358  B479 00001A50            513              CMP.W   (MNZPOSY),D2
0000135E  6600 0014                514              BNE     NOCOL
00001362                           515              
00001362                           516              ; Colisión detectada
00001362  4EB9 000015E8            517              JSR     APPLEUPD
00001368  4EB9 000016DE            518              JSR     SCOUPD
0000136E  1E3C 0000                519              MOVE.B  #SNDEAT,D7
00001372  4E42                     520              TRAP    #SNDPLTN
00001374                           521              ;ADDQ.W  #2,(CBZVEL)
00001374                           522  
00001374                           523  NOCOL:
00001374                           524              ; Convierte la posición nueva a índice
00001374  3239 00001A52            525              MOVE.W  (CBZPOSX),D1
0000137A  3439 00001A54            526              MOVE.W  (CBZPOSY),D2
00001380  4EB9 000017BE            527              JSR     CINDMTRZ
00001386  4EB9 000017F8            528              JSR     CBZOCPD                 ; Marca la celda como ocupada
0000138C                           529  
0000138C                           530  
0000138C                           531  FIN:
0000138C  4C9F 0007                532              MOVEM.W (A7)+,D0-D2
00001390                           533  
00001390  4E75                     534              RTS
00001392                           535              
00001392                           536  ; ------------------------------------------------------------------------------
00001392                           537  HEADPLOT
00001392                           538  ; DIBUJAR CABEZA.
00001392                           539  ; INPUT    : NONE 
00001392                           540  ; OUTPUT   : NONE
00001392                           541  ; MODIFIES : NONE
00001392                           542  ; ------------------------------------------------------------------------------
00001392                           543                         
00001392  3F00                     544              MOVE.W  D0,-(A7)               ; GUARDAMOS D0
00001394  3003                     545              MOVE.W  D3,D0                  ; PONEMOS EL INDICE DE LA CELDA EN D0 PARA CALCULAR SUS COORDENADAS
00001396  4EB9 00001866            546              JSR     CNVICOOR
0000139C  2F01                     547              MOVE.L  D1,-(A7)
0000139E                           548              
0000139E                           549              ; SET COLOR DEL CONTORNO CABEZA
0000139E  103C 0050                550              MOVE.B  #80,D0
000013A2  223C 0000FF00            551              MOVE.L  #CBZPCOL,D1
000013A8  4E4F                     552              TRAP    #15
000013AA                           553              
000013AA                           554              ; SET COLOR DEL RELLENO CABEZA
000013AA  103C 0051                555              MOVE.B  #81,D0
000013AE  223C 0000AA00            556              MOVE.L  #CBZFCOL,D1
000013B4  4E4F                     557              TRAP    #15
000013B6                           558              
000013B6                           559              ; DIBUJAR CABEZA
000013B6  103C 0057                560              MOVE.B  #87,D0
000013BA  221F                     561              MOVE.L  (A7)+,D1
000013BC  3F03                     562              MOVE.W  D3,-(A7)
000013BE  3601                     563              MOVE.W  D1,D3
000013C0  0643 0014                564              ADD.W   #CBZWIDTH,D3
000013C4  3802                     565              MOVE.W  D2,D4
000013C6  0644 0014                566              ADD.W   #CBZHEIGH,D4
000013CA  4E4F                     567              TRAP    #15
000013CC                           568              
000013CC  2F01                     569              MOVE.L  D1,-(A7)
000013CE                           570              
000013CE                           571              ; SET COLOR DEL CONTORNO OJO
000013CE  103C 0050                572              MOVE.B  #80,D0
000013D2  7200                     573              MOVE.L  #OJOPCOL,D1
000013D4  4E4F                     574              TRAP    #15
000013D6                           575              
000013D6                           576              ; SET COLOR DEL RELLENO OJO
000013D6  103C 0051                577              MOVE.B  #81,D0
000013DA  223C 00FFFFFF            578              MOVE.L  #OJOFCOL,D1
000013E0  4E4F                     579              TRAP    #15
000013E2                           580              
000013E2                           581              ; DIBUJAR OJO
000013E2  103C 0058                582              MOVE.B  #88,D0
000013E6  221F                     583              MOVE.L  (A7)+,D1
000013E8  2F01                     584              MOVE.L  D1,-(A7)
000013EA  2F02                     585              MOVE.L  D2,-(A7)
000013EC  5A41                     586              ADD.W   #OJOWIDTH/2,D1            
000013EE  3601                     587              MOVE.W  D1,D3
000013F0  0643 000A                588              ADD.W   #OJOWIDTH,D3
000013F4  5A42                     589              ADD.W   #OJOHEIGH/2,D2
000013F6  3802                     590              MOVE.W  D2,D4
000013F8  0644 000A                591              ADD.W   #OJOHEIGH,D4
000013FC  4E4F                     592              TRAP    #15                     ; DIBUJAMOS EL PRIMER OJO
000013FE                           593              
000013FE                           594  
000013FE                           595              ; DEFINIR COORDENADAS IRIS
000013FE  241F                     596              MOVE.L  (A7)+,D2
00001400  221F                     597              MOVE.L  (A7)+,D1
00001402  0641 000A                598              ADD.W   #OJOWIDTH,D1
00001406  0642 000A                599              ADD.W   #OJOHEIGH,D2
0000140A  103C 0052                600              MOVE.B  #82,D0
0000140E  4E4F                     601              TRAP    #15                     ; DIBUJAMOS EL PRIMER IRIS
00001410                           602              
00001410  361F                     603              MOVE.W  (A7)+,D3
00001412  301F                     604              MOVE.W  (A7)+,D0
00001414                           605  
00001414  4E75                     606              RTS
00001416                           607  
00001416                           608  
00001416                           609  
00001416                           610  
00001416                           611  
00001416                           612  
00001416                           613  
00001416                           614  
00001416                           615  
00001416                           616  
00001416                           617  
00001416                           618  
00001416                           619  
00001416                           620  
00001416                           621  
00001416                           622  
00001416                           623  
00001416                           624  
00001416                           625  
00001416                           626  
00001416                           627  
00001416                           628  
00001416                           629  
00001416                           630  
00001416                           631  
00001416                           632  
00001416                           633  
00001416                           634  
00001416                           635  
00001416                           636  
00001416                           637  
00001416                           638  
00001416                           639  
00001416                           640  
00001416                           641  
00001416                           642  
00001416                           643  
00001416                           644  
00001416                           645  
00001416                           646  -------------------- end include --------------------
00001416                           647              INCLUDE 'SEGSRP.X68'
00001416                           648  
00001416                           649  ; ------------------------------------------------------------------------------
00001416                           650  SEGINIT
00001416                           651  ; INICIALIZAR SEGMENTO.
00001416                           652  ; INPUT    : NONE 
00001416                           653  ; OUTPUT   : NONE
00001416                           654  ; MODIFIES : NONE
00001416                           655  ; ------------------------------------------------------------------------------
00001416  33FC 012C 00001A5E       656              MOVE.W  #(PANWIDTH/2)-CBZWIDTH,(SGMPOSX)
0000141E  33FC 00F0 00001A60       657              MOVE.W  #PANHEIGH/2,(SGMPOSY)
00001426  33F9 00001A5E 00001A62   658              MOVE.W  (SGMPOSX),(SGMPOSX2)
00001430  33F9 00001A60 00001A64   659              MOVE.W  (SGMPOSY),(SGMPOSY2)
0000143A  0479 0014 00001A62       660              SUB.W   #SGMWIDTH,(SGMPOSX2)
00001442  4E75                     661              RTS
00001444                           662              
00001444                           663  ; ------------------------------------------------------------------------------
00001444                           664  SEGUPD
00001444                           665  ; ACTUALIZAR SEGMENTO.
00001444                           666  ; INPUT    : NONE 
00001444                           667  ; OUTPUT   : NONE
00001444                           668  ; MODIFIES : NONE
00001444                           669  ; ------------------------------------------------------------------------------
00001444                           670  
00001444  48A7 6000                671              MOVEM.W D1-D2,-(A7)
00001448                           672              
00001448                           673              ; Marcar posición anterior del segmento como vacía
00001448  3239 00001A5E            674              MOVE.W  (SGMPOSX),D1             ; Cargar posición X actual del segmento2
0000144E  3439 00001A60            675              MOVE.W  (SGMPOSY),D2             ; Cargar posición Y actual del segmento2
00001454  4EB9 000017BE            676              JSR     CINDMTRZ                ; Obtener índice de celda en D0
0000145A  4EB9 0000180E            677              JSR     MCLDVCIA                ; Marcar celda como vacía
00001460                           678              
00001460                           679              ; Marcar posición anterior del segmento como vacía
00001460  3239 00001A62            680              MOVE.W  (SGMPOSX2),D1             ; Cargar posición X actual del segmento2
00001466  3439 00001A64            681              MOVE.W  (SGMPOSY2),D2             ; Cargar posición Y actual del segmento2
0000146C  4EB9 000017BE            682              JSR     CINDMTRZ                ; Obtener índice de celda en D0
00001472  4EB9 0000180E            683              JSR     MCLDVCIA                ; Marcar celda como vacía
00001478                           684              
00001478                           685              ; Actualizar posición del segmento para seguir a la cabeza
00001478  33F9 00001A5E 00001A62   686              MOVE.W  (SGMPOSX),(SGMPOSX2)    ; MARCAMOS LOS SEGMENTOS COMO SEGUNDA COORDENADA X
00001482  33F9 00001A60 00001A64   687              MOVE.W  (SGMPOSY),(SGMPOSY2)    ; MARCAMOS LOS SEGMENTOS COMO SEGUNDA COORDENADA Y
0000148C  33F9 00001A52 00001A5E   688              MOVE.W  (CBZPOSX),(SGMPOSX)        ; Actualizar X del segmento con la X de la cabeza
00001496  33F9 00001A54 00001A60   689              MOVE.W  (CBZPOSY),(SGMPOSY)        ; Actualizar Y del segmento con la Y de la cabeza
000014A0                           690  
000014A0                           691              ; Marcar nueva posición del segmento como ocupada
000014A0  3239 00001A5E            692              MOVE.W  (SGMPOSX),D1             ; Cargar nueva posición X
000014A6  3439 00001A60            693              MOVE.W  (SGMPOSY),D2             ; Cargar nueva posición Y
000014AC  4EB9 000017BE            694              JSR     CINDMTRZ                ; Obtener índice de celda en D0
000014B2  4EB9 00001824            695              JSR     SGMOCPD                 ; Marcar celda como ocupada por segmento
000014B8                           696              
000014B8  3239 00001A62            697              MOVE.W  (SGMPOSX2),D1             ; Cargar nueva posición X DEL SEGMENTO 2
000014BE  3439 00001A64            698              MOVE.W  (SGMPOSY2),D2             ; Cargar nueva posición Y DEL SEGMENTO 2
000014C4  4EB9 000017BE            699              JSR     CINDMTRZ                ; Obtener índice de celda en D0
000014CA  4EB9 00001824            700              JSR     SGMOCPD                 ; Marcar celda como ocupada por segmento
000014D0                           701              
000014D0  4C9F 0006                702              MOVEM.W (A7)+,D1-D2            
000014D4  4E75                     703              RTS
000014D6                           704  ;CODIGO ANTIGUO
000014D6                           705              
000014D6                           706              
000014D6                           707              
000014D6                           708  ; ------------------------------------------------------------------------------
000014D6                           709  SEGPLOT
000014D6                           710  ; DIBUJAR SEGMENTO.
000014D6                           711  ; INPUT    : NONE 
000014D6                           712  ; OUTPUT   : NONE
000014D6                           713  ; MODIFIES : NONE
000014D6                           714  ; ------------------------------------------------------------------------------
000014D6  3F00                     715              MOVE.W  D0,-(A7)
000014D8  3003                     716              MOVE.W  D3,D0
000014DA  4EB9 00001866            717              JSR     CNVICOOR
000014E0  2F01                     718              MOVE.L  D1,-(A7)
000014E2                           719              
000014E2  103C 0050                720              MOVE.B  #80,D0
000014E6  223C 0000FF00            721              MOVE.L  #SGMPCOL,D1            ; PONEMOS EL COLOR DE DIBUJADO AL COLOR DEL CONTORNO DEL SEGMENTO
000014EC  4E4F                     722              TRAP    #15
000014EE                           723              
000014EE  103C 0051                724              MOVE.B  #81,D0
000014F2  223C 0000AA00            725              MOVE.L  #SGMFCOL,D1            ; PONEMOS EL COLOR DE DIBUJADO AL COLOR DEL RELLENO DEL SEGMENTO
000014F8  4E4F                     726              TRAP    #15
000014FA                           727              
000014FA  103C 0057                728              MOVE.B  #87,D0
000014FE  221F                     729              MOVE.L  (A7)+,D1
00001500  3F03                     730              MOVE.W  D3,-(A7)
00001502  3601                     731              MOVE.W  D1,D3
00001504  0643 0014                732              ADD.W   #SIZECLDA,D3
00001508  3802                     733              MOVE.W  D2,D4                    ; DIBUJAMOS EL CUADRADO
0000150A  0644 0014                734              ADD.W   #SIZECLDA,D4
0000150E  4E4F                     735              TRAP    #15                     
00001510                           736                          
00001510  361F                     737              MOVE.W  (A7)+,D3  
00001512  301F                     738              MOVE.W  (A7)+,D0
00001514                           739  
00001514  4E75                     740              RTS
00001516                           741  
00001516                           742  -------------------- end include --------------------
00001516                           743              INCLUDE 'TAILSRP.X68'
00001516                           744     
00001516                           745  ; ------------------------------------------------------------------------------
00001516                           746  TAILINIT
00001516                           747  ; INICIALIZAR COLA.
00001516                           748  ; INPUT    : NONE 
00001516                           749  ; OUTPUT   : NONE
00001516                           750  ; MODIFIES : NONE
00001516                           751  ; ------------------------------------------------------------------------------
00001516                           752  
00001516  33FC 011D 00001A5A       753              MOVE.W  #(PANWIDTH/2)-CBZWIDTH-SGMWIDTH+(COLWIDTH/2),(COLPOSX)
0000151E  33FC 00F0 00001A5C       754              MOVE.W  #(PANHEIGH/2),(COLPOSY)
00001526                           755              
00001526  4E75                     756              RTS
00001528                           757              
00001528                           758              
00001528                           759  ; ------------------------------------------------------------------------------
00001528                           760  TAILUPD
00001528                           761  ; ACTUALIZAR COLA.
00001528                           762  ; INPUT    : NONE 
00001528                           763  ; OUTPUT   : NONE
00001528                           764  ; MODIFIES : NONE
00001528                           765  ; ------------------------------------------------------------------------------
00001528  48A7 6000                766              MOVEM.W D1-D2,-(A7)
0000152C                           767              
0000152C                           768              ; Marca la posición actual de la cola como vacía
0000152C  3239 00001A5A            769              MOVE.W  (COLPOSX),D1
00001532  3439 00001A5C            770              MOVE.W  (COLPOSY),D2
00001538  4EB9 000017BE            771              JSR     CINDMTRZ
0000153E  4EB9 0000180E            772              JSR     MCLDVCIA
00001544                           773              ; Actualiza la posición de la cola para seguir al último segmento
00001544  33F9 00001A62 00001A5A   774              MOVE.W  (SGMPOSX2),(COLPOSX)
0000154E  33F9 00001A64 00001A5C   775              MOVE.W  (SGMPOSY2),(COLPOSY)    ; MARCAMOS LA COOORDENADA DE LA COLA COMO COORDENADA DEL SEGMENTO 2
00001558                           776              ; Marca la nueva posición como cola
00001558  3239 00001A5A            777              MOVE.W  (COLPOSX),D1
0000155E  3439 00001A5C            778              MOVE.W  (COLPOSY),D2
00001564  4EB9 000017BE            779              JSR     CINDMTRZ
0000156A  4EB9 0000183A            780              JSR     COLOCPD
00001570                           781  
00001570                           782  FINUPD
00001570  4C9F 0006                783              MOVEM.W (A7)+,D1-D2
00001574  4E75                     784              RTS
00001576                           785              
00001576                           786  ; ------------------------------------------------------------------------------
00001576                           787  TAILPLOT
00001576                           788  ; DIBUJAR COLA
00001576                           789  ; INPUT    : NONE 
00001576                           790  ; OUTPUT   : NONE
00001576                           791  ; MODIFIES : NONE
00001576                           792  ; ------------------------------------------------------------------------------
00001576                           793  
00001576  3F00                     794              MOVE.W  D0,-(A7)
00001578  3003                     795              MOVE.W  D3,D0
0000157A  4EB9 00001866            796              JSR     CNVICOOR
00001580  2F01                     797              MOVE.L  D1,-(A7)
00001582                           798              
00001582  103C 0050                799              MOVE.B  #80,D0
00001586  223C 0000FF00            800              MOVE.L  #COLPCOL,D1            ; PONEMOS EL COLOR DE DIBUJADO AL COLOR DEL CONTORNO DE LA COLA
0000158C  4E4F                     801              TRAP    #15
0000158E                           802              
0000158E  103C 0051                803              MOVE.B  #81,D0
00001592  223C 0000AA00            804              MOVE.L  #COLFCOL,D1            ; PONEMOS EL COLOR DE DIBUJADO AL COLOR DEL RELLENO DE LA COLA
00001598  4E4F                     805              TRAP    #15
0000159A                           806              
0000159A  103C 0057                807              MOVE.B  #87,D0
0000159E  221F                     808              MOVE.L  (A7)+,D1
000015A0  3F03                     809              MOVE.W  D3,-(A7)
000015A2  3601                     810              MOVE.W  D1,D3
000015A4  0643 0014                811              ADD.W   #SIZECLDA,D3
000015A8  3802                     812              MOVE.W  D2,D4                    
000015AA  0644 0014                813              ADD.W   #SIZECLDA,D4
000015AE  4E4F                     814              TRAP    #15                    ; DIBUJAMOS EL CUADRADO 
000015B0                           815                          
000015B0  361F                     816              MOVE.W  (A7)+,D3  
000015B2  301F                     817              MOVE.W  (A7)+,D0
000015B4                           818  
000015B4  4E75                     819              RTS
000015B6                           820  
000015B6                           821  
000015B6                           822  -------------------- end include --------------------
000015B6                           823              INCLUDE 'APPLE.X68'
000015B6                           824     
000015B6                           825  ; ------------------------------------------------------------------------------
000015B6                           826  APPLEINIT
000015B6                           827  ; Inicializa la manzana en una posición aleatoria
000015B6                           828  ; INPUT    : NONE 
000015B6                           829  ; OUTPUT   : NONE
000015B6                           830  ; MODIFIES : MNZPOSX, MNZPOSY, ESTDCLDS
000015B6                           831  ; ------------------------------------------------------------------------------
000015B6                           832  
000015B6                           833              ; Llama a la función para generar la posición aleatoria
000015B6  4EB9 000016A4            834              JSR     GENPOSMNZ
000015BC                           835  
000015BC                           836              ; Convierte las coordenadas de la manzana a índice de la matriz
000015BC  4EB9 000017BE            837              JSR     CINDMTRZ
000015C2                           838  
000015C2                           839              ; Verifica si la celda está ocupada o libre
000015C2                           840  CHECK:
000015C2  4EB9 000018A2            841              JSR     CHECKCLD
000015C8  6700 0010                842              BEQ     MARKMNZ                  ; Si está libre
000015CC                           843  
000015CC                           844              ; Si la celda está ocupada
000015CC  4EB9 000016A4            845              JSR     GENPOSMNZ                ; Genera una nueva posición
000015D2  4EB9 000017BE            846              JSR     CINDMTRZ                 ; Convierte las nuevas coordenadas
000015D8  60E8                     847              BRA     CHECK                    ; Repite la comprobación
000015DA                           848  
000015DA                           849  MARKMNZ:
000015DA                           850              ; Marca la celda como ocupada con la manzana (estado 4)
000015DA  4EB9 00001850            851              JSR     MNZOCPD
000015E0                           852  
000015E0                           853              ; Dibuja la manzana en la pantalla
000015E0  4EB9 00001626            854              JSR     APPLEPLOT
000015E6                           855  
000015E6  4E75                     856              RTS
000015E8                           857  
000015E8                           858  ; ------------------------------------------------------------------------------
000015E8                           859  APPLEUPD
000015E8                           860  ; Actualiza la posición de la manzana cuando la serpiente come
000015E8                           861  ; INPUT    : NONE 
000015E8                           862  ; OUTPUT   : NONE
000015E8                           863  ; MODIFIES : MNZPOSX, MNZPOSY, ESTDCLDS
000015E8                           864  ; ------------------------------------------------------------------------------
000015E8                           865  
000015E8                           866  
000015E8                           867              ; Convierte las coordenadas actuales de la manzana a índice de la matriz
000015E8  4EB9 000017BE            868              JSR     CINDMTRZ
000015EE                           869  
000015EE                           870              ; Marca la celda anterior como vacía
000015EE  4EB9 0000180E            871              JSR     MCLDVCIA
000015F4                           872  
000015F4                           873              ; Llama a la función para generar una nueva posición aleatoria
000015F4  4EB9 000016A4            874              JSR     GENPOSMNZ
000015FA                           875  
000015FA                           876              ; Convierte las nuevas coordenadas de la manzana a índice de la matriz
000015FA  4EB9 000017BE            877              JSR     CINDMTRZ
00001600                           878  
00001600                           879  CHCKUPDT:
00001600  4EB9 000018A2            880              JSR     CHECKCLD             ; Verifica si la celda está libre
00001606  6700 0010                881              BEQ     NEWMNZ               ; Si está libre
0000160A                           882  
0000160A                           883              ; Si la celda está ocupada
0000160A  4EB9 000016A4            884              JSR     GENPOSMNZ            ; Genera una nueva posición
00001610  4EB9 000017BE            885              JSR     CINDMTRZ             ; Convierte las nuevas coordenadas
00001616  60E8                     886              BRA     CHCKUPDT             ; Repite la comprobación
00001618                           887  
00001618                           888  NEWMNZ:
00001618                           889              ; Marca la celda como ocupada con la manzana (estado 4)
00001618  4EB9 00001850            890              JSR     MNZOCPD
0000161E                           891  
0000161E                           892              ; Dibuja la nueva manzana en la pantalla
0000161E  4EB9 00001626            893              JSR     APPLEPLOT
00001624                           894  
00001624  4E75                     895              RTS
00001626                           896              
00001626                           897  ; ------------------------------------------------------------------------------
00001626                           898  APPLEPLOT
00001626                           899  ; Dibuja la manzana
00001626                           900  ; INPUT    : NONE 
00001626                           901  ; OUTPUT   : NONE
00001626                           902  ; MODIFIES : NONE
00001626                           903  ; ------------------------------------------------------------------------------
00001626  3F00                     904              MOVE.W  D0,-(A7)
00001628  3003                     905              MOVE.W  D3,D0
0000162A  4EB9 00001866            906              JSR     CNVICOOR
00001630  2F01                     907              MOVE.L  D1,-(A7)                ; PRIMERO DEBEMOS DIBUJAR EL FONDO Y LUEGO LA MANZANA
00001632                           908              
00001632  103C 0050                909              MOVE.B  #80,D0
00001636  223C 0090EE90            910              MOVE.L  #COLFND,D1            ; PONEMOS EL COLOR DE DIBUJADO A COLORFONDO
0000163C  4E4F                     911              TRAP    #15
0000163E                           912              
0000163E  103C 0051                913              MOVE.B  #81,D0
00001642  223C 0090EE90            914              MOVE.L  #COLFND,D1            ; PONEMOS EL COLOR DE DIBUJADO A COLORFONDO
00001648  4E4F                     915              TRAP    #15
0000164A                           916              
0000164A  103C 0057                917              MOVE.B  #87,D0
0000164E  221F                     918              MOVE.L  (A7)+,D1
00001650  3F03                     919              MOVE.W  D3,-(A7)
00001652  3601                     920              MOVE.W  D1,D3
00001654  0643 0014                921              ADD.W   #SIZECLDA,D3
00001658  3802                     922              MOVE.W  D2,D4                    ; DIBUJAMOS EL CUADRADO
0000165A  0644 0014                923              ADD.W   #SIZECLDA,D4
0000165E  4E4F                     924              TRAP    #15                     
00001660                           925                          
00001660  361F                     926              MOVE.W  (A7)+,D3  
00001662  301F                     927              MOVE.W  (A7)+,D0
00001664                           928  
00001664  3F00                     929              MOVE.W  D0,-(A7)
00001666  3003                     930              MOVE.W  D3,D0
00001668  4EB9 00001866            931              JSR     CNVICOOR
0000166E  2F01                     932              MOVE.L  D1,-(A7)
00001670                           933              
00001670  103C 0050                934              MOVE.B  #80,D0
00001674  223C 0000AAFF            935              MOVE.L  #MNZPCOL,D1            ; PONEMOS EL COLOR DE DIBUJADO AL COLOR DEL CONTORNO DE LA MANZANA
0000167A  4E4F                     936              TRAP    #15
0000167C                           937              
0000167C  103C 0051                938              MOVE.B  #81,D0
00001680  223C 000000FF            939              MOVE.L  #MNZFCOL,D1            ; PONEMOS EL COLOR DE DIBUJADO AL COLOR DEL RELLENO DE LA MANZANA
00001686  4E4F                     940              TRAP    #15
00001688                           941              
00001688  103C 0058                942              MOVE.B  #88,D0
0000168C  221F                     943              MOVE.L  (A7)+,D1
0000168E  3F03                     944              MOVE.W  D3,-(A7)
00001690  3601                     945              MOVE.W  D1,D3
00001692  0643 0014                946              ADD.W   #SIZECLDA,D3
00001696  3802                     947              MOVE.W  D2,D4                    ; DIBUJAMOS EL CIRCULO
00001698  0644 0014                948              ADD.W   #SIZECLDA,D4
0000169C  4E4F                     949              TRAP    #15                     
0000169E                           950                          
0000169E  361F                     951              MOVE.W  (A7)+,D3  
000016A0  301F                     952              MOVE.W  (A7)+,D0
000016A2                           953  
000016A2                           954  
000016A2  4E75                     955              RTS
000016A4                           956  ; ----------------------------------------------------------------------------
000016A4                           957  GENPOSMNZ
000016A4                           958  ; Genera una posición aleatoria para la manzana
000016A4                           959  ; INPUT: NONE
000016A4                           960  ; OUTPUT:
000016A4                           961  ; MODIFIES: MNZPOSX, MNZPOSY
000016A4                           962  ; ----------------------------------------------------------------------------
000016A4                           963  
000016A4  48E7 8000                964              MOVEM.L D0,-(A7)
000016A8                           965  
000016A8                           966              ; Genera la coordenada X aleatoria
000016A8  4EB8 1192                967              JSR     UTLRAND
000016AC  0240 001F                968              ANDI.W  #NUMCLMNS-1, D0       ; Asegura que esté en [0, NUMCLMNS-1]
000016B0  C0FC 0014                969              MULU    #SIZECLDA, D0         ; Escala al tamaño real de las celdas
000016B4  3200                     970              MOVE.W  D0,D1
000016B6  33C0 00001A4E            971              MOVE.W  D0, MNZPOSX           ; Guarda la coordenada X generada
000016BC                           972              
000016BC                           973              ; Generar coordenada Y aleatoria
000016BC  4EB8 1192                974              JSR     UTLRAND
000016C0  0240 0017                975              ANDI.W  #NUMFILAS-1, D0       ; Asegura que esté en el rango [0, NUMFILAS-1]
000016C4  C0FC 0014                976              MULU    #SIZECLDA, D0         ; Escala al tamaño real de las celdas
000016C8  3400                     977              MOVE.W  D0,D2
000016CA  33C0 00001A50            978              MOVE.W  D0, MNZPOSY           ; Guarda la coordenada Y generada
000016D0                           979              
000016D0  4CDF 0001                980              MOVEM.L (A7)+,D0
000016D4  4E75                     981              RTS 
000016D6                           982  
000016D6                           983  
000016D6                           984  
000016D6                           985  
000016D6                           986  
000016D6                           987  
000016D6                           988  -------------------- end include --------------------
000016D6                           989              INCLUDE 'SCORE.X68'
000016D6                           990     
000016D6                           991  ; ------------------------------------------------------------------------------
000016D6                           992  SCOINIT
000016D6                           993  ; INICIALIZAR MARCADOR.
000016D6                           994  ; INPUT    : NONE 
000016D6                           995  ; OUTPUT   : NONE
000016D6                           996  ; MODIFIES : NONE
000016D6                           997  ; ------------------------------------------------------------------------------
000016D6  4279 00001A66            998              CLR.W   (JGOPNTS)
000016DC  4E75                     999              RTS
000016DE                          1000              
000016DE                          1001  ; ------------------------------------------------------------------------------
000016DE                          1002  SCOUPD
000016DE                          1003  ; ACTUALIZAR MARCADOR.
000016DE                          1004  ; INPUT    : NONE 
000016DE                          1005  ; OUTPUT   : NONE
000016DE                          1006  ; MODIFIES : NONE
000016DE                          1007  ; ------------------------------------------------------------------------------
000016DE                          1008              
000016DE  48E7 8000               1009              MOVEM.L D0,-(A7)
000016E2                          1010              
000016E2                          1011              ;Incrementa el marcador
000016E2  3039 00001A66           1012              MOVE.W  (JGOPNTS),D0
000016E8  0640 0019               1013              ADD.W  #25,D0
000016EC  33C0 00001A66           1014              MOVE.W  D0,(JGOPNTS)
000016F2                          1015              
000016F2  4CDF 0001               1016              MOVEM.L (A7)+,D0
000016F6                          1017  
000016F6  4E75                    1018              RTS
000016F8                          1019              
000016F8                          1020  ; ------------------------------------------------------------------------------
000016F8                          1021  SCOPLOT
000016F8                          1022  ; DIBUJAR MARCADOR.
000016F8                          1023  ; INPUT    : NONE 
000016F8                          1024  ; OUTPUT   : NONE
000016F8                          1025  ; MODIFIES : NONE
000016F8                          1026  ; ------------------------------------------------------------------------------
000016F8  48E7 C040               1027             MOVEM.L  D0-D1/A1,-(A7)
000016FC                          1028             ; SET COLOR DE FONDO
000016FC  103C 0051               1029             MOVE.B   #81,D0
00001700  223C 0090EE90           1030             MOVE.L   #COLFND,D1
00001706  4E4F                    1031             TRAP     #15
00001708                          1032             
00001708                          1033             
00001708                          1034             
00001708                          1035             ; DIBUJAR LINEA DE PUNTUACIÓN
00001708  43F9 00001722           1036              LEA     .TXT1,A1
0000170E  4281                    1037              CLR.L   D1
00001710  3239 00001A66           1038              MOVE.W  (JGOPNTS),D1
00001716  103C 0011               1039              MOVE.B  #17,D0
0000171A  4E4F                    1040              TRAP    #15
0000171C                          1041              
0000171C  4CDF 0203               1042              MOVEM.L (A7)+,D0-D1/A1
00001720  4E75                    1043              RTS
00001722                          1044  
00001722                          1045  
00001722= 50 55 4E 54 4F 53 ...   1046  .TXT1       DC.B    'PUNTOS : ',0
0000172C                          1047  
0000172C                          1048  
0000172C                          1049  
0000172C                          1050  
0000172C                          1051  -------------------- end include --------------------
0000172C                          1052              INCLUDE 'MATRIZ.X68'
0000172C                          1053  ; ----------------------------------------------------------------------------
0000172C                          1054  ; MATRIZ
0000172C                          1055  ; ----------------------------------------------------------------------------
0000172C                          1056  
0000172C                          1057  ;-----------------------------------------------------------------------------
0000172C                          1058  MTZINIT
0000172C                          1059  ; INICIALIZA LA MATRIZ, AL PRINCIPIO ESTÁ VACÍA
0000172C                          1060  ; INPUT    : NONE
0000172C                          1061  ; OUTPUT   : NONE
0000172C                          1062  ; MODIFIES : Variable ESTCLDS que contiene el estado de las celdas
0000172C                          1063  ; ----------------------------------------------------------------------------
0000172C                          1064              
0000172C  48A7 E080               1065              MOVEM.W D0-D2/A0,-(A7)
00001730                          1066              
00001730  41F9 00001A6A           1067              LEA ESTDCLDS,A0       ; Apunta al inicio de ESTDCLDS
00001736  303C 0300               1068              MOVE.W #TCELDAS,D0    ; Número total de celdas
0000173A                          1069  
0000173A                          1070  CLNCLDS:
0000173A  4218                    1071              CLR.B (A0)+            ; Coloca 0 en cada celda
0000173C  5340                    1072              SUBI.W #1, D0          ; Decrementa el contador de celdas
0000173E  66FA                    1073              BNE CLNCLDS            ; Repite hasta que esten vacías
00001740                          1074              
00001740                          1075              
00001740  3239 00001A52           1076              MOVE.W  (CBZPOSX),D1             ; VEMOS LA POSICION INICIAL DE LA CABEZA             
00001746  3439 00001A54           1077              MOVE.W  (CBZPOSY),D2
0000174C  4EB9 000017BE           1078              JSR     CINDMTRZ
00001752  4EB9 000017F8           1079              JSR     CBZOCPD                 ; MARCAMOS LA POSICIÓN COMO CABEZA
00001758                          1080              
00001758  3239 00001A5E           1081              MOVE.W  (SGMPOSX),D1
0000175E  3439 00001A60           1082              MOVE.W  (SGMPOSY),D2             ; VEMOS LA POSICIÓN DEL SEGMENTO
00001764  4EB9 000017BE           1083              JSR     CINDMTRZ
0000176A  4EB9 00001824           1084              JSR     SGMOCPD                 ; MARCAMOS LA POSICIÓN DEL SEGMENTO
00001770                          1085              
00001770  3239 00001A62           1086              MOVE.W  (SGMPOSX2),D1
00001776  3439 00001A64           1087              MOVE.W  (SGMPOSY2),D2            ; VEMOS LA POSICIÓN DEL SEGMENTO 2
0000177C  4EB9 000017BE           1088              JSR     CINDMTRZ
00001782  4EB9 00001824           1089              JSR     SGMOCPD                 ; MARCAMOS LA POSICION DEL SEGMENTO 2
00001788                          1090              
00001788  3239 00001A5A           1091              MOVE.W  (COLPOSX),D1             ; VEMOS LA POSICIÓN DE LA COLA
0000178E  3439 00001A5C           1092              MOVE.W  (COLPOSY),D2
00001794  4EB9 000017BE           1093              JSR     CINDMTRZ
0000179A  4EB9 0000183A           1094              JSR     COLOCPD                 ; MARCAMOS LA POSICIÓN DE LA COLA
000017A0                          1095              
000017A0  3239 00001A4E           1096              MOVE.W  (MNZPOSX),D1             ; VEMOS LA POSICIÓN INICIAL DE LA MANZANA
000017A6  3439 00001A50           1097              MOVE.W  (MNZPOSY),D2
000017AC  4EB9 000017BE           1098              JSR     CINDMTRZ
000017B2  4EB9 00001850           1099              JSR     MNZOCPD                 ; MARCAMOS LA POSICIÓN DE LA MANZANA
000017B8                          1100              
000017B8                          1101              
000017B8  4C9F 0107               1102              MOVEM.W (A7)+,D0-D2/A0
000017BC                          1103  
000017BC  4E75                    1104              RTS
000017BE                          1105  
000017BE                          1106  ;-----------------------------------------------------------------------------
000017BE                          1107  CINDMTRZ
000017BE                          1108  ; CALCULA EL ÍNDICE DE UNA CELDA
000017BE                          1109  ; INPUT    : D1 = coordenada X pantalla, D2 = coordenada Y pantalla
000017BE                          1110  ; OUTPUT   : D0 = índice de la celda en ESTDCLDS
000017BE                          1111  ; MODIFIES : NONE
000017BE                          1112  ; ----------------------------------------------------------------------------
000017BE                          1113  
000017BE  48A7 7000               1114               MOVEM.W D1-D3,-(A7)     ; Guarda los registros D1-D3 en la pila
000017C2                          1115  
000017C2                          1116              ; Divide X por SIZECLDA
000017C2  3601                    1117              MOVE.W  D1,D3          ; Copia X a D3
000017C4  4241                    1118              CLR.W   D1              ; Inicializa el cociente de X
000017C6                          1119  
000017C6  B67C 0014               1120  DIVX:       CMP.W   #SIZECLDA,D3    ; Compara D3 con SIZECLDA
000017CA  6D00 000A               1121              BLT     ENDDIVX         ; Si D3 < SIZECLDA, salta a ENDDIVX
000017CE  0443 0014               1122              SUB.W   #SIZECLDA,D3   ; Resta SIZECLDA de D3
000017D2  5241                    1123              ADDQ.W  #1,D1          ; Incrementa el cociente de X
000017D4  60F0                    1124              BRA     DIVX            ; Repite el bucle
000017D6                          1125  
000017D6                          1126  ENDDIVX:
000017D6                          1127  
000017D6                          1128              ; Divide Y por SIZECLDA
000017D6  3602                    1129              MOVE.W  D2,D3          ; Copia Y a D3
000017D8  4242                    1130              CLR.W   D2              ; Inicializa el cociente de Y
000017DA                          1131  
000017DA  B67C 0014               1132  DIVY:       CMP.W   #SIZECLDA,D3    ; Compara D3 con SIZECLDA
000017DE  6D00 000A               1133              BLT     ENDDIVY         ; Si D3 < SIZECLDA, salta a ENDDIVY
000017E2  0443 0014               1134              SUB.W   #SIZECLDA,D3   ; Resta SIZECLDA de D3
000017E6  5242                    1135              ADDQ.W  #1, D2          ; Incrementa el cociente de Y
000017E8  60F0                    1136              BRA     DIVY            ; Repite el bucle
000017EA                          1137  
000017EA                          1138  ENDDIVY:
000017EA                          1139  
000017EA                          1140              ; Calcula el índice
000017EA  4240                    1141              CLR.W   D0
000017EC  3002                    1142              MOVE.W  D2, D0          ; D0 = Y_CELDA
000017EE  EB40                    1143              ASL.W   #5, D0          ; D0 = Y_CELDA * NUMCLMNS (32 = 2^5)
000017F0  D041                    1144              ADD.W   D1, D0          ; D0 = Y_CELDA * NUMCLMNS + X_CELDA
000017F2                          1145  
000017F2  4C9F 000E               1146              MOVEM.W (A7)+,D1-D3     ; Restaura los registros D1-D3 desde la pila
000017F6                          1147  
000017F6  4E75                    1148              RTS  
000017F8                          1149              
000017F8                          1150  ;-----------------------------------------------------------------------------
000017F8                          1151  CBZOCPD
000017F8                          1152  ; MARCA UNA CELDA COMO OCUPADA POR LA CABEZA
000017F8                          1153  ; INPUT    : D0 = índice de la celda en ESTDCLDS
000017F8                          1154  ; OUTPUT   : NONE
000017F8                          1155  ; MODIFIES : Estado de la celda en la variable ESTDCLDS
000017F8                          1156  ; ----------------------------------------------------------------------------
000017F8                          1157  
000017F8  48A7 0080               1158              MOVEM.W A0,-(A7)
000017FC                          1159  
000017FC  41F9 00001A6A           1160              LEA     ESTDCLDS,A0                ; Dirección de la matriz en A0
00001802  11BC 0003 0000          1161              MOVE.B  #3,(A0, D0.W)           ; Marca la celda como ocupada
00001808                          1162              
00001808  4C9F 0100               1163              MOVEM.W (A7)+,A0
0000180C                          1164              
0000180C  4E75                    1165              RTS
0000180E                          1166              
0000180E                          1167              
0000180E                          1168              
0000180E                          1169             
0000180E                          1170  ;-----------------------------------------------------------------------------
0000180E                          1171  MCLDVCIA
0000180E                          1172  ; MARCA UNA CELDA COMO VACÍA
0000180E                          1173  ; INPUT    : D0 = índice de la celda en ESTDCLDS
0000180E                          1174  ; OUTPUT   : NONE
0000180E                          1175  ; MODIFIES : Estado de la celda en la variable ESTDCLDS
0000180E                          1176  ; ----------------------------------------------------------------------------
0000180E                          1177  
0000180E  48A7 0080               1178              MOVEM.W A0,-(A7)
00001812                          1179  
00001812  41F9 00001A6A           1180              LEA     ESTDCLDS,A0                ; Direccion de la matriz en A0
00001818  11BC 0000 0000          1181              MOVE.B  #0,(A0,D0.W)           ; Marca la celda como vacía
0000181E                          1182              
0000181E  4C9F 0100               1183              MOVEM.W (A7)+,A0
00001822                          1184              
00001822  4E75                    1185              RTS
00001824                          1186  
00001824                          1187  ;-----------------------------------------------------------------------------
00001824                          1188  SGMOCPD
00001824                          1189  ; MARCA UNA CELDA COMO OCUPADA POR EL SEGMENTO
00001824                          1190  ; INPUT    : D0 = índice de la celda en ESTDCLDS
00001824                          1191  ; OUTPUT   : NONE
00001824                          1192  ; MODIFIES : Estado de la celda en la variable ESTDCLDS
00001824                          1193  ; ----------------------------------------------------------------------------
00001824                          1194  
00001824  48A7 0080               1195              MOVEM.W A0,-(A7)
00001828                          1196  
00001828  41F9 00001A6A           1197              LEA ESTDCLDS,A0                ; Dirección de la matriz en A0
0000182E  11BC 0002 0000          1198              MOVE.B #2,(A0,D0.W)           ; Marca la celda como ocupada
00001834                          1199              
00001834  4C9F 0100               1200              MOVEM.W (A7)+,A0
00001838                          1201              
00001838  4E75                    1202              RTS
0000183A                          1203              
0000183A                          1204  ;-----------------------------------------------------------------------------
0000183A                          1205  COLOCPD
0000183A                          1206  ; MARCA UNA CELDA COMO OCUPADA POR LA COLA
0000183A                          1207  ; INPUT    : D0 = índice de la celda en ESTDCLDS
0000183A                          1208  ; OUTPUT   : NONE
0000183A                          1209  ; MODIFIES : Estado de la celda en la variable ESTDCLDS
0000183A                          1210  ; ----------------------------------------------------------------------------
0000183A                          1211  
0000183A  48A7 0080               1212              MOVEM.W A0,-(A7)
0000183E                          1213  
0000183E  41F9 00001A6A           1214              LEA ESTDCLDS,A0                ; Dirección de la matriz en A0
00001844  11BC 0001 0000          1215              MOVE.B #1,(A0,D0.W)           ; Marca la celda como ocupada
0000184A                          1216              
0000184A  4C9F 0100               1217              MOVEM.W (A7)+,A0
0000184E                          1218              
0000184E  4E75                    1219              RTS
00001850                          1220  
00001850                          1221  
00001850                          1222  ;-----------------------------------------------------------------------------
00001850                          1223  MNZOCPD
00001850                          1224  ; MARCA UNA CELDA COMO OCUPADA POR LA MANZANA
00001850                          1225  ; INPUT    : D0 = índice de la celda en ESTDCLDS
00001850                          1226  ; OUTPUT   : NONE
00001850                          1227  ; MODIFIES : Estado de la celda en la variable ESTDCLDS
00001850                          1228  ; ----------------------------------------------------------------------------
00001850                          1229  
00001850  48A7 0080               1230              MOVEM.W A0,-(A7)
00001854                          1231  
00001854  41F9 00001A6A           1232              LEA ESTDCLDS,A0                ; Dirección de la matriz en A0
0000185A  11BC 0004 0000          1233              MOVE.B #4,(A0,D0.W)           ; Marca la celda como ocupada
00001860                          1234              
00001860  4C9F 0100               1235              MOVEM.W (A7)+,A0
00001864                          1236              
00001864  4E75                    1237              RTS
00001866                          1238  
00001866                          1239              
00001866                          1240  ;-----------------------------------------------------------------------------
00001866                          1241  CNVICOOR
00001866                          1242  ; Convierte un índice de celda a coordenadas de pantalla (X, Y)
00001866                          1243  ; INPUT    : D0 = índice de la celda en ESTADO_CELDAS
00001866                          1244  ; OUTPUT   : D1 = coordenada X, D2 = coordenada Y
00001866                          1245  ; MODIFIES : NONE
00001866                          1246  ; ----------------------------------------------------------------------------
00001866                          1247  
00001866  48A7 9800               1248              MOVEM.W D0/D3-D4,-(A7)
0000186A                          1249  
0000186A  3400                    1250              MOVE.W  D0,D2         ; Copia índice a D2 para calcular la fila
0000186C  EA4A                    1251              LSR.W   #5,D2         ; D2 = índice / NUM_COLUMNAS (32 = 2^5)
0000186E  3200                    1252              MOVE.W  D0,D1         ; Copia índice a D1 para calcular la columna
00001870  C27C 001F               1253              AND.W   #$1F,D1       ; D1 = índice % NUM_COLUMNAS (31 = 0x1F) (CREO)
00001874                          1254  
00001874                          1255              ; Multiplica por TAMAÑO_CELDA = 10
00001874  363C 0014               1256              MOVE.W  #SIZECLDA, D3
00001878  3801                    1257              MOVE.W  D1,D4         ; Copia D1 para multiplicar por 10
0000187A  4241                    1258              CLR.W   D1            ; Inicializa resultado
0000187C                          1259  
0000187C                          1260  
0000187C                          1261  MULTLOOPX: 
0000187C  B87C 0000               1262              CMP.W   #0,D4        ; ¿Quedan iteraciones?
00001880  6700 0008               1263              BEQ     ENDMULTX
00001884  D243                    1264              ADD.W   D3,D1         ; Suma TAMANO_CELDA (10) repetidamente
00001886                          1265  
00001886  5344                    1266              SUBQ.W  #1,D4         ; Cuenta las iteraciones restantes
00001888  60F2                    1267              BRA     MULTLOOPX     ; Repite mientras no sea 0
0000188A                          1268  ENDMULTX: 
0000188A  3802                    1269              MOVE.W  D2,D4         ; Copia D2 para multiplicar por 10
0000188C  4242                    1270              CLR.W   D2            ; Inicializa resultado
0000188E                          1271  
0000188E                          1272  MULTLOOPY: 
0000188E  B87C 0000               1273              CMP.W   #0,D4        ; ¿Quedan iteraciones?
00001892  6700 0008               1274              BEQ     ENDMULTY
00001896  D443                    1275              ADD.W   D3,D2         ; Suma TAMANO_CELDA (10) repetidamente
00001898  5344                    1276              SUBQ.W  #1,D4         ; Cuenta las iteraciones restantes
0000189A  60F2                    1277              BRA     MULTLOOPY     ; Repite mientras no sea 0
0000189C                          1278  ENDMULTY:
0000189C  4C9F 0019               1279              MOVEM.W (A7)+,D0/D3-D4
000018A0                          1280  
000018A0  4E75                    1281              RTS
000018A2                          1282  
000018A2                          1283  ; ----------------------------------------------------------------------------
000018A2                          1284  CHECKCLD
000018A2                          1285  ; INPUT: D0 = índice de la celda
000018A2                          1286  ; OUTPUT: D0 = 0 si está vacía, 1 si está ocupada
000018A2                          1287  ; MODIFIES: Ninguno
000018A2                          1288  ; ----------------------------------------------------------------------------
000018A2                          1289  
000018A2  41F9 00001A6A           1290              LEA     ESTDCLDS,A0    ; Carga la dirección de la matriz ESTDCLDS
000018A8  1230 0000               1291              MOVE.B  (A0,D0.W),D1   ; Carga el estado de la celda en D1
000018AC  B23C 0000               1292              CMP.B   #0,D1          ; Compara si está vacía (0)
000018B0  6700 0008               1293              BEQ     CLDFREE         ; Si está vacía
000018B4  303C 0001               1294              MOVE.W  #1,D0          ; Si está ocupada, devuelve 1 (ocupada)
000018B8                          1295  
000018B8  4E75                    1296              RTS
000018BA                          1297  
000018BA                          1298  CLDFREE:
000018BA  303C 0000               1299              MOVE.W  #0,D0                 ; Devuelve 0 (libre)
000018BE                          1300  
000018BE  4E75                    1301              RTS
000018C0                          1302  
000018C0                          1303  
000018C0                          1304  ;-----------------------------------------------------------------------------
000018C0                          1305  FONPLOT
000018C0                          1306  ; DIBUJADO DEL FONDO
000018C0                          1307  ; INPUT    : NONE
000018C0                          1308  ; OUTPUT   : NONE
000018C0                          1309  ; MODIFIES : Variable ESTCLDS que contiene el estado de las celdas
000018C0                          1310  ; ----------------------------------------------------------------------------
000018C0                          1311  
000018C0  3F00                    1312              MOVE.W  D0,-(A7)
000018C2  3003                    1313              MOVE.W  D3,D0
000018C4  4EB8 1866               1314              JSR     CNVICOOR
000018C8  2F01                    1315              MOVE.L  D1,-(A7)
000018CA                          1316              
000018CA  103C 0050               1317              MOVE.B  #80,D0
000018CE  223C 0090EE90           1318              MOVE.L  #COLFND,D1            ; PONEMOS EL COLOR DE DIBUJADO A COLORFONDO
000018D4  4E4F                    1319              TRAP    #15
000018D6                          1320              
000018D6  103C 0051               1321              MOVE.B  #81,D0
000018DA  223C 0090EE90           1322              MOVE.L  #COLFND,D1            ; PONEMOS EL COLOR DE DIBUJADO A COLORFONDO
000018E0  4E4F                    1323              TRAP    #15
000018E2                          1324              
000018E2  103C 0057               1325              MOVE.B  #87,D0
000018E6  221F                    1326              MOVE.L  (A7)+,D1
000018E8  3F03                    1327              MOVE.W  D3,-(A7)
000018EA  3601                    1328              MOVE.W  D1,D3
000018EC  0643 0014               1329              ADD.W   #SIZECLDA,D3
000018F0  3802                    1330              MOVE.W  D2,D4                    ; DIBUJAMOS EL CUADRADO
000018F2  0644 0014               1331              ADD.W   #SIZECLDA,D4
000018F6  4E4F                    1332              TRAP    #15                     
000018F8                          1333                          
000018F8  361F                    1334              MOVE.W  (A7)+,D3  
000018FA  301F                    1335              MOVE.W  (A7)+,D0
000018FC  4E75                    1336              RTS         
000018FE                          1337  
000018FE                          1338  
000018FE                          1339  
000018FE                          1340  ;-----------------------------------------------------------------------------
000018FE                          1341  MTZUPD
000018FE                          1342  ; ACTUALIZA LA MATRIZ CASILLA A CASILLA
000018FE                          1343  ; INPUT    : NONE
000018FE                          1344  ; OUTPUT   : NONE
000018FE                          1345  ; MODIFIES : Variable ESTCLDS que contiene el estado de las celdas
000018FE                          1346  ; ----------------------------------------------------------------------------
000018FE                          1347  
000018FE                          1348  
000018FE  48A7 E080               1349              MOVEM.W D0-D2/A0,-(A7)
00001902                          1350              
00001902  41F9 00001A6A           1351              LEA ESTDCLDS,A0       ; Apunta al inicio de ESTDCLDS
00001908  303C 0300               1352              MOVE.W #TCELDAS,D0    ; Número total de celdas
0000190C                          1353  
0000190C                          1354  .CLNCLDS:
0000190C  4218                    1355              CLR.B (A0)+            ; Coloca 0 en cada celda
0000190E  5340                    1356              SUBI.W #1,D0          ; Decrementa el contador de celdas
00001910  66FA                    1357              BNE .CLNCLDS           ; Repite hasta que esten vacías
00001912                          1358              
00001912                          1359              
00001912  3239 00001A52           1360              MOVE.W  (CBZPOSX),D1             ; VEMOS LA POSICION INICIAL DE LA CABEZA             
00001918  3439 00001A54           1361              MOVE.W  (CBZPOSY),D2
0000191E  4EB8 17BE               1362              JSR     CINDMTRZ
00001922  4EB8 17F8               1363              JSR     CBZOCPD                 ; MARCAMOS LA POSICIÓN COMO CABEZA
00001926                          1364              
00001926  3239 00001A5E           1365              MOVE.W  (SGMPOSX),D1
0000192C  3439 00001A60           1366              MOVE.W  (SGMPOSY),D2             ; VEMOS LA POSICIÓN INICIAL DEL SEGMENTO
00001932  4EB8 17BE               1367              JSR     CINDMTRZ
00001936  4EB8 1824               1368              JSR     SGMOCPD                 ; MARCAMOS LA POSICIÓN DEL SEGMENTO
0000193A                          1369              
0000193A  3239 00001A62           1370              MOVE.W  (SGMPOSX2),D1
00001940  3439 00001A64           1371              MOVE.W  (SGMPOSY2),D2             ; VEMOS LA POSICIÓN INICIAL DEL SEGMENTO
00001946  4EB8 17BE               1372              JSR     CINDMTRZ
0000194A  4EB8 1824               1373              JSR     SGMOCPD                 ; MARCAMOS LA POSICIÓN DEL SEGMENTO
0000194E                          1374              
0000194E  3239 00001A5A           1375              MOVE.W  (COLPOSX),D1             ; VEMOS LA POSICIÓN INICIAL DE LA COLA
00001954  3439 00001A5C           1376              MOVE.W  (COLPOSY),D2
0000195A  4EB8 17BE               1377              JSR     CINDMTRZ
0000195E  4EB8 183A               1378              JSR     COLOCPD                 ; MARCAMOS LA POSICIÓN DE LA COLA
00001962                          1379              
00001962  3239 00001A4E           1380              MOVE.W  (MNZPOSX),D1             ; VEMOS LA POSICIÓN INICIAL DE LA MANZANA
00001968  3439 00001A50           1381              MOVE.W  (MNZPOSY),D2
0000196E  4EB8 17BE               1382              JSR     CINDMTRZ
00001972  4EB8 1850               1383              JSR     MNZOCPD                 ; MARCAMOS LA POSICIÓN DE LA MANZANA
00001976                          1384              
00001976                          1385              
00001976  4C9F 0107               1386              MOVEM.W (A7)+,D0-D2/A0
0000197A                          1387  
0000197A  4E75                    1388              RTS
0000197C                          1389  
0000197C                          1390  
0000197C                          1391  
0000197C                          1392  ;-----------------------------------------------------------------------------
0000197C                          1393  MTZPLOT
0000197C                          1394  ; DIBUJA LA MATRIZ CASILLA A CASILLA
0000197C                          1395  ; INPUT    : NONE
0000197C                          1396  ; OUTPUT   : NONE
0000197C                          1397  ; MODIFIES : Variable ESTCLDS que contiene el estado de las celdas
0000197C                          1398  ; ----------------------------------------------------------------------------
0000197C  48E7 F080               1399              MOVEM.L D0-D3/A0,-(A7)
00001980                          1400  
00001980  4240                    1401              CLR.W   D0
00001982  4243                    1402              CLR.W   D3
00001984  41F9 00001A6A           1403              LEA     ESTDCLDS,A0            ; Apunta al inicio de ESTDCLDS
0000198A  303C 0300               1404              MOVE.W  #TCELDAS,D0            ; Número total de celdas
0000198E  363C 0000               1405              MOVE.W  #0,D3                   ; LO UTILIZAMOS PARA SABER EL INDICE EN EL QUE NOS ENCONTRAMOS
00001992  4241                    1406              CLR.W   D1
00001994  4242                    1407              CLR.W   D2
00001996                          1408              
00001996                          1409  
00001996                          1410  PLOTCLDS:
00001996  1218                    1411              MOVE.B  (A0)+,D1                ; MOVEMOS EL VALOR DE LA CELDA A D1
00001998  B23C 0000               1412              CMP.B   #0,D1
0000199C  6700 0034               1413              BEQ     PLOTVAC                 ; SALTA A DIBUJAR POSICIÓN VACÍA
000019A0  B23C 0001               1414              CMP.B   #1,D1 
000019A4  6700 0032               1415              BEQ     PLOTCOL                 ; SALTA A DIBUJAR COLA
000019A8  B23C 0002               1416              CMP.B   #2,D1
000019AC  6700 0030               1417              BEQ     PLOTSEG                 ; SALTA A DIBUJAR SEGMENTO
000019B0  B23C 0003               1418              CMP.B   #3,D1
000019B4  6700 0016               1419              BEQ     PLOTCBZ                 ; SALTA A DIBUJAR CABEZA
000019B8  B23C 0004               1420              CMP.B   #4,D1                 
000019BC  6700 0026               1421              BEQ     PLOTAPPLE               ; SALTA A DIBUJAR MANZANA
000019C0                          1422    
000019C0                          1423  DONEPLOT            
000019C0  5243                    1424              ADDQ    #1,D3                   ; AUMENTAMOS EL INDICE DE CELDA PARA LA SIGUIENTE
000019C2  5340                    1425              SUBI.W  #1,D0                  ; Decrementa el contador de celdas
000019C4  66D0                    1426              BNE     PLOTCLDS                ; Repite hasta que esten vacías
000019C6  4CDF 010F               1427              MOVEM.L (A7)+,D0-D3/A0
000019CA  4E75                    1428              RTS
000019CC                          1429  PLOTCBZ:
000019CC  4EB8 1392               1430              JSR     HEADPLOT
000019D0  60EE                    1431              BRA     DONEPLOT
000019D2                          1432  
000019D2                          1433  PLOTVAC:    
000019D2  4EB8 18C0               1434              JSR     FONPLOT
000019D6  60E8                    1435              BRA     DONEPLOT                ; DIBUJADO HECHO 
000019D8                          1436  
000019D8                          1437  PLOTCOL:   
000019D8  4EB8 1576               1438              JSR     TAILPLOT 
000019DC  60E2                    1439              BRA     DONEPLOT                ; DIBUJADO HECHO 
000019DE                          1440              
000019DE                          1441  PLOTSEG:    
000019DE  4EB8 14D6               1442              JSR     SEGPLOT
000019E2  60DC                    1443              BRA     DONEPLOT                ; DIBUJADO HECHO    
000019E4                          1444  
000019E4                          1445  PLOTAPPLE:
000019E4  4EB8 1626               1446              JSR     APPLEPLOT
000019E8  60D6                    1447              BRA     DONEPLOT            
000019EA                          1448  
000019EA                          1449  
000019EA                          1450  
000019EA                          1451  
000019EA                          1452  
000019EA                          1453  
000019EA                          1454  
000019EA                          1455  
000019EA                          1456  
000019EA                          1457  
000019EA                          1458  
000019EA                          1459  
000019EA                          1460  
000019EA                          1461  
000019EA                          1462  
000019EA                          1463  
000019EA                          1464  
000019EA                          1465  
000019EA                          1466  
000019EA                          1467  
000019EA                          1468  
000019EA                          1469  -------------------- end include --------------------
000019EA                          1470  START:
000019EA                          1471                  
000019EA                          1472  ; --- INIZIALIZACIÓN ---------------------------------------------------------
000019EA                          1473  
000019EA  007C 0700               1474              ORI.W   #$0700,SR
000019EE  4EB8 1000               1475              JSR     SYSINIT
000019F2  4EB8 117C               1476              JSR     UTLINIT
000019F6  4EB8 172C               1477              JSR     MTZINIT
000019FA  4EB8 12B0               1478              JSR     HEADINIT                
000019FE  4EB8 1416               1479              JSR     SEGINIT
00001A02  4EB8 1516               1480              JSR     TAILINIT
00001A06  4EB8 16D6               1481              JSR     SCOINIT
00001A0A  4EB8 15B6               1482              JSR     APPLEINIT
00001A0E                          1483              
00001A0E                          1484  
00001A0E                          1485  .LOOP
00001A0E                          1486  
00001A0E                          1487  ; --- ACTUALIZAR -------------------------------------------------------------
00001A0E                          1488  
00001A0E                          1489  ; LEER DISPOSITIVOS DE ENTRADA
00001A0E                          1490  
00001A0E  4E41                    1491              TRAP    #KBDUPTN
00001A10                          1492  
00001A10                          1493  ; ACTUALIZAR LÓGICA DEL JUEGO
00001A10                          1494              
00001A10  4EB8 1528               1495              JSR     TAILUPD
00001A14  4EB8 1444               1496              JSR     SEGUPD
00001A18  4EB8 12D0               1497              JSR     HEADUPD
00001A1C  4EB8 18FE               1498              JSR     MTZUPD
00001A20                          1499              
00001A20                          1500  ; --- SINCRONIZACIÓN ---------------------------------------------------------
00001A20                          1501              
00001A20  4A39 00001D72           1502  .WINT       TST.B   (SCRINTCT)
00001A26  67F8                    1503              BEQ     .WINT   
00001A28  4239 00001D72           1504              CLR.B   (SCRINTCT)         
00001A2E                          1505  
00001A2E                          1506  
00001A2E                          1507  ;---DIBUJAR-------------------------------------------------------------------
00001A2E  4EB8 1392               1508               JSR    HEADPLOT
00001A32  4EB8 14D6               1509               JSR    SEGPLOT
00001A36  4EB8 1576               1510               JSR    TAILPLOT
00001A3A  4EB8 1626               1511               JSR    APPLEPLOT
00001A3E  4EB8 197C               1512               JSR    MTZPLOT
00001A42  4EB8 16F8               1513               JSR    SCOPLOT
00001A46                          1514              
00001A46  4E40                    1515              TRAP    #SCRUPTN                      ; ACTUALIZA DOBLE BUFFER
00001A48                          1516  
00001A48                          1517  
00001A48  60C4                    1518              BRA     .LOOP
00001A4A                          1519  
00001A4A  FFFF FFFF               1520              SIMHALT
00001A4E                          1521              
00001A4E                          1522              INCLUDE 'VARS.X68'
00001A4E                          1523  ; ----------------------------------------------------------------------------
00001A4E                          1524  ; VARIABLES DEL JUEGO
00001A4E                          1525  ; ----------------------------------------------------------------------------
00001A4E                          1526  
00001A4E                          1527  ; --- VARIABLES DE LA MANZANA ------------------------------------------------
00001A4E                          1528  
00001A4E                          1529  MNZPOSX     DS.W    1                       ; COORDENADA X DE LA MANZANA
00001A50                          1530  MNZPOSY     DS.W    1                       ; COORDENADA Y DE LA MANZANA
00001A52                          1531  
00001A52                          1532  ; --- VARIABLES DE LA SERPIENTE ----------------------------------------------
00001A52                          1533  
00001A52                          1534  CBZPOSX     DS.W    1                       ; COORDENADA X CABEZA
00001A54                          1535  CBZPOSY     DS.W    1                       ; COORDENADA Y CABEZA
00001A56                          1536  CBZVELX     DS.W    1                       ; VELOCIDAD X CABEZA
00001A58                          1537  CBZVELY     DS.W    1                       ; VELOCIDAD Y CABEZA
00001A5A                          1538  COLPOSX     DS.W    1                       ; COORDENADA X COLA
00001A5C                          1539  COLPOSY     DS.W    1                       ; COORDENADA Y COLA
00001A5E                          1540  SGMPOSX     DS.W    1                       ; COORDENADA X SEGMENTO
00001A60                          1541  SGMPOSY     DS.W    1                       ; COORDENADA Y SEGMENTO
00001A62                          1542  SGMPOSX2    DS.W    1                       ; COORDENADA X SEGMENTO 2
00001A64                          1543  SGMPOSY2    DS.W    1                       ; COORDENADA Y SEGMENTO 2
00001A66                          1544  ;TRZPLOT     DS.B    1                       ; NÚMERO DE TROZOS A DIBUJAR
00001A66                          1545  
00001A66                          1546  ; --- VARIABLES DEL MARCADOR -------------------------------------------------
00001A66                          1547  
00001A66                          1548  JGOPNTS     DS.W    1                       ; PUNTUACIÓN DEL JUEGO
00001A68                          1549  
00001A68                          1550  
00001A68                          1551  
00001A68                          1552  
00001A68                          1553  
00001A68                          1554  
00001A68                          1555  
00001A68                          1556  
00001A68                          1557  
00001A68                          1558  
00001A68                          1559  
00001A68                          1560  
00001A68                          1561  
00001A68                          1562  
00001A68                          1563  
00001A68                          1564  -------------------- end include --------------------
00001A68                          1565              INCLUDE 'LIB/UTLVARS.X68'
00001A68                          1566  ; =============================================================================
00001A68                          1567  ; UTILITY VARIABLES
00001A68                          1568  ; =============================================================================
00001A68                          1569  
00001A68                          1570  UTLRNDIX    DS.B    1                       ; NEXT INDEX TO RANDOM NUMBER
00001A6A                          1571              DS.W    0
00001A6A                          1572  -------------------- end include --------------------
00001A6A                          1573              INCLUDE 'SYSVARS.X68'
00001A6A                          1574  ; ----------------------------------------------------------------------------
00001A6A                          1575  ; VARIABLES DEL SISTEMA
00001A6A                          1576  ; ----------------------------------------------------------------------------
00001A6A                          1577  
00001A6A                          1578  ; --- VARIABLES DE LA MATRIZ -------------------------------------------------
00001A6A                          1579  
00001A6A                          1580  ESTDCLDS    DS.B    TCELDAS                 ; ESTADO DE LAS CELDAS 0=VACÍO  1=COLA   2=SEGMENTO  TRZPLOT=CABEZA  4?=MANZANA    
00001D6A                          1581  ESTDCBZ     DS.B    1                       ; 0= DERECHA, 1=ARRIBA, 2=IZQUIERDA, 3=ABAJO
00001D6B                          1582  
00001D6B                          1583  ; --- VARIABLES DE TECLADO ---------------------------------------------------
00001D6B                          1584  
00001D6B                          1585  KBDVAL      DS.B    1
00001D6C                          1586  KBDEDGE     DS.B    1                       ; KEY EDGE
00001D6E                          1587  LASTKEY     DS.L    1                       
00001D72                          1588  
00001D72                          1589  ;--- TIMED INTERRUPT RELATED VARIABLES ---------------------------------------
00001D72                          1590              
00001D72                          1591  SCRINTCT    DS.B    1                       ; INTERRUPT COUNTER
00001D74                          1592              DS.W    0
00001D74                          1593  
00001D74                          1594  
00001D74                          1595  
00001D74                          1596  
00001D74                          1597  
00001D74                          1598  
00001D74                          1599  
00001D74                          1600  
00001D74                          1601  
00001D74                          1602  
00001D74                          1603  
00001D74                          1604  
00001D74                          1605  
00001D74                          1606  
00001D74                          1607  -------------------- end include --------------------
00001D74                          1608      
00001D74                          1609      
00001D74                          1610              END    START        

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
APPLEINIT           15B6
APPLEPLOT           1626
APPLEUPD            15E8
ARR                 1156
CBZFCOL             AA00
CBZHEIGH            14
CBZOCPD             17F8
CBZPCOL             FF00
CBZPOSX             1A52
CBZPOSY             1A54
CBZVEL              14
CBZVELX             1A56
CBZVELY             1A58
CBZWIDTH            14
CHCKUPDT            1600
CHECK               15C2
CHECKCLD            18A2
CHKCOL              1342
CINDMTRZ            17BE
CLDFREE             18BA
CLNCLDS             173A
CNVICOOR            1866
COLFCOL             AA00
COLFND              90EE90
COLHEIGH            A
COLOCPD             183A
COLPCOL             FF00
COLPOSX             1A5A
COLPOSY             1A5C
COLWIDTH            A
CONTINU             1176
DER                 114A
DIVX                17C6
DIVY                17DA
DONEPLOT            19C0
DWN                 116E
ENDDIVX             17D6
ENDDIVY             17EA
ENDMULTX            188A
ENDMULTY            189C
ESTDCBZ             1D6A
ESTDCLDS            1A6A
FIN                 138C
FINUPD              1570
FONPLOT             18C0
GENPOSMNZ           16A4
HEADINIT            12B0
HEADPLOT            1392
HEADUPD             12D0
IZQ                 1162
JGOPNTS             1A66
KBDDOWN             28
KBDEDGE             1D6C
KBDINIT             1100
KBDLEFT             25
KBDRIGHT            27
KBDUP               26
KBDUPD              110E
KBDUPTN             1
KBDVAL              1D6B
LASTKEY             1D6E
LNGINI              1
MARKMNZ             15DA
MAXSGM              1
MCLDVCIA            180E
MNZFCOL             FF
MNZHEIGH            14
MNZOCPD             1850
MNZPCOL             AAFF
MNZPOSX             1A4E
MNZPOSY             1A50
MNZWIDTH            14
MTZINIT             172C
MTZPLOT             197C
MTZUPD              18FE
MTZUPD:CLNCLDS      190C
MULTLOOPX           187C
MULTLOOPY           188E
NEWMNZ              1618
NOCOL               1374
NUMCLMNS            20
NUMFILAS            18
OJOFCOL             FFFFFF
OJOHEIGH            A
OJOPCOL             0
OJOWIDTH            A
PANHEIGH            1E0
PANWIDTH            280
PLOTAPPLE           19E4
PLOTCBZ             19CC
PLOTCLDS            1996
PLOTCOL             19D8
PLOTSEG             19DE
PLOTVAC             19D2
PNTSFCOL            0
PNTSTEXT            65
SCOINIT             16D6
SCOPLOT             16F8
SCOPLOT:TXT1        1722
SCOUPD              16DE
SCRFPS              32
SCRINIT             109A
SCRINTCT            1D72
SCRINTN             1
SCRPLOT             10E6
SCRTIM              10DE
SCRUPTN             0
SEGINIT             1416
SEGPLOT             14D6
SEGUPD              1444
SGMFCOL             AA00
SGMHEIGH            14
SGMOCPD             1824
SGMPCOL             FF00
SGMPOSX             1A5E
SGMPOSX2            1A62
SGMPOSY             1A60
SGMPOSY2            1A64
SGMWIDTH            14
SIGABA              133A
SIGARR              1322
SIGDER              1316
SIGIZQ              132E
SIZECLDA            14
SNDEAT              0
SNDGMOV             1
SNDINIT             103A
SNDINIT:DONE        1058
SNDINIT:LOOP        1046
SNDINIT:SNDEAT      105E
SNDINIT:SNDGMOV     106A
SNDINIT:SNDLIST     107C
SNDPLAY             1088
SNDPLTN             2
START               19EA
START:LOOP          1A0E
START:WINT          1A20
SYSINIT             1000
TAILINIT            1516
TAILPLOT            1576
TAILUPD             1528
TCELDAS             300
UTLINIT             117C
UTLRAND             1192
UTLRAND:RANDVEC     11B0
UTLRNDIX            1A68
